{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\government\\\\governmentProject\\\\FinalProject\\\\src\\\\pages\\\\socketPage\\\\SocketPage.tsx\",\n  _s = $RefreshSig$();\n/* eslint-disable */\nimport \"./socketPage.scss\";\nimport { useEffect, useState } from \"react\";\nimport { useAppDispatch } from \"../../hooks\";\nimport { fetchGovernmentMembersInfo } from \"../../store/actions/governmentMembersFullInfoAction\";\nimport io from \"socket.io-client\";\nimport { useNavigate } from \"react-router-dom\";\nimport auth from \"../../auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function SocketPage() {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const URL = process.env.REACT_APP_BASE_URL1;\n  useEffect(() => {\n    const loc = localStorage.getItem(\"auth\");\n    const local = JSON.parse(loc);\n    if (local == null || (local === null || local === void 0 ? void 0 : local.role) != \"parlamentpresident\") {\n      navigate(\"/\");\n    }\n    ;\n    const ws = io(`${URL}`, {\n      extraHeaders: {\n        auth_token: auth().accessToken\n      }\n    });\n    setSocket(ws);\n    ws.on(\"click\", user => {\n      if (auth().accessToken) {\n        const {\n          id\n        } = user;\n        if (ws && ws != null) {\n          navigate(\"/detail\", {\n            state: {\n              user\n            }\n          });\n        }\n      }\n    });\n    dispatch(fetchGovernmentMembersInfo());\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"socketPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"headerContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerGerbPart\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"../../../../government/logo3.svg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              id: \"headerContainerH5\",\n              className: \"headerContainerH5\",\n              children: \"\\u0540\\u0561\\u0575\\u0561\\u057D\\u057F\\u0561\\u0576\\u056B \\u0540\\u0561\\u0576\\u0580\\u0561\\u057A\\u0565\\u057F\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576 \\u053F\\u0561\\u057C\\u0561\\u057E\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0578\\u0582\\u0576\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"headerVectorPartParent\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerVectorPart\",\n            onClick: event => {\n              event.preventDefault();\n              localStorage.removeItem('auth');\n              localStorage.removeItem('id');\n              navigate(\"/\");\n              navigate(0);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"../../../../government/Vectorright.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              id: \"headerContainerH6\",\n              className: \"headerContainerH6\",\n              children: \"\\u0534\\u0578\\u0582\\u0580\\u057D \\u0563\\u0561\\u056C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"socket\",\n      id: \"socket\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        id: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"../../../government/logo3.svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"txt\",\n        id: \"txt\",\n        children: [\"\\u0540\\u0561\\u0575\\u0561\\u057D\\u057F\\u0561\\u0576\\u056B \\u0540\\u0561\\u0576\\u0580\\u0561\\u057A\\u0565\\u057F\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 71\n        }, this), \" \\u053F\\u0561\\u057C\\u0561\\u057E\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0578\\u0582\\u0576\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(SocketPage, \"eaC8Xm7oe/jJ3b2ZwuzIlbtotkM=\", false, function () {\n  return [useNavigate, useAppDispatch];\n});\n_c = SocketPage;\nvar _c;\n$RefreshReg$(_c, \"SocketPage\");","map":{"version":3,"names":["useEffect","useState","useAppDispatch","fetchGovernmentMembersInfo","io","useNavigate","auth","SocketPage","socket","setSocket","navigate","dispatch","URL","process","env","REACT_APP_BASE_URL1","loc","localStorage","getItem","local","JSON","parse","role","ws","extraHeaders","auth_token","accessToken","on","user","id","state","event","preventDefault","removeItem"],"sources":["C:/Users/ASUS/Desktop/government/governmentProject/FinalProject/src/pages/socketPage/SocketPage.tsx"],"sourcesContent":["/* eslint-disable */\r\nimport \"./socketPage.scss\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {useAppDispatch } from \"../../hooks\";\r\nimport { fetchGovernmentMembersInfo } from \"../../store/actions/governmentMembersFullInfoAction\";\r\nimport io from \"socket.io-client\"\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport auth from \"../../auth\";\r\n   \r\n \r\n \r\n \r\n\r\nexport function SocketPage() {\r\n    const [socket, setSocket] = useState<any>(null)\r\n    const navigate = useNavigate();\r\n    const dispatch = useAppDispatch();\r\n    const URL = process.env.REACT_APP_BASE_URL1;\r\n    useEffect(() => {\r\n    const loc:string | any = localStorage.getItem(\"auth\");\r\n    const local = JSON.parse(loc);\r\n    if(local==null || local?.role!=\"parlamentpresident\"){\r\n        navigate(\"/\");\r\n    };\r\n        const ws = io(`${URL}`, {\r\n            extraHeaders: {\r\n                auth_token: auth().accessToken,\r\n            }\r\n        });\r\n        setSocket(ws);\r\n        ws.on(\"click\", (user: any) => {\r\n            if(auth().accessToken){\r\n            const { id } = user;\r\n            if (ws && ws != null) {\r\n                navigate(\"/detail\", { state: { user } })\r\n            }\r\n            \r\n        }})\r\n        \r\n        \r\n    \r\n        dispatch(fetchGovernmentMembersInfo())\r\n    }, [dispatch]);\r\n    return (\r\n        <div className=\"socketPage\">\r\n            <header className={\"header\"}>\r\n                <div className={\"headerContainer\"}>\r\n                    <div>\r\n                        <div className={\"headerGerbPart\"}>\r\n                            <img src={\"../../../../government/logo3.svg\"} />\r\n                            <h5 id={\"headerContainerH5\"} className={\"headerContainerH5\"}>Հայաստանի Հանրապետության Կառավարություն</h5>\r\n                        </div>\r\n                    </div>\r\n                    <div className={\"headerVectorPartParent\"}>\r\n                        <div className={\"headerVectorPart\"} onClick={(event) => {\r\n                            event.preventDefault();\r\n                            localStorage.removeItem('auth');\r\n                            localStorage.removeItem('id');\r\n                            navigate(\"/\");\r\n                            navigate(0)\r\n                        }\r\n                        }>\r\n                            <img src={\"../../../../government/Vectorright.png\"} />\r\n                            <h6 id={\"headerContainerH6\"} className={\"headerContainerH6\"}>Դուրս գալ</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div className='socket' id=\"socket\">\r\n                <div className='logo' id='logo'>< img src={\"../../../government/logo3.svg\"} /></div>\r\n                <div className='txt' id='txt'>Հայաստանի Հանրապետության<br /> Կառավարություն</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}