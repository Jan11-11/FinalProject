{"ast":null,"code":"/* eslint-disable */\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { addMember, deleteMember, editeMember, activeMember, setImage } from \"../slices/GovernmetMembersFullInfo\";\nimport { store } from \"../index\";\nimport axios from \"axios\";\nconst PATH_URL = process.env.REACT_APP_BASE_URL1;\nexport const addProduct = createAsyncThunk(\"add\", async (item, _ref) => {\n  let {\n    dispatch\n  } = _ref;\n  const member = {\n    fullname: item.fullname,\n    position: item.position,\n    picture: item.picture\n  };\n  try {\n    const response = await axios.post(`${PATH_URL}/api/v1/users`, member);\n    if (response.status === 201) {\n      dispatch(addMember(response.data));\n    }\n  } catch (error) {\n    return \"Servere request is failed\";\n  }\n});\nexport const deleteProduct = createAsyncThunk(\"delete/Product\", async (id, _ref2) => {\n  let {\n    dispatch\n  } = _ref2;\n  try {\n    const response = await axios.delete(`${PATH_URL}/api/v1/users/delete/${id}`, {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    });\n    if (response.status === 200 && response.statusText === \"OK\") {\n      dispatch(deleteMember(id));\n    } else {\n      throw new Error(\"error\");\n    }\n  } catch (error) {\n    return \"Server request is failed\";\n  }\n});\nexport const editeAProduct = createAsyncThunk(\"edite/Product\", async (item, _ref3) => {\n  let {\n    rejectWithValue,\n    dispatch\n  } = _ref3;\n  const member = {\n    picture: item.picture,\n    fullname: item.fullname,\n    position: item.position\n  };\n  try {\n    const response = await axios.put(`${PATH_URL}/api/v1/users/${item.id}`, member);\n    console.log(response);\n    if (response.status === 200 && response.statusText === \"OK\") {\n      dispatch(editeMember(response.data));\n    }\n  } catch (error) {\n    rejectWithValue(error.message);\n  }\n});\nexport const activeProduct = createAsyncThunk(\"active/product\", async (id, _ref4) => {\n  let {\n    dispatch,\n    getState\n  } = _ref4;\n  const state = store.getState();\n  const item = state.membersFullInfo.membersFullInfo.find(child => {\n    return id == child.id;\n  });\n  try {\n    if (item) {\n      let status = item.status === \"active\" ? \"passive\" : \"active\";\n      const response = await axios.patch(`${PATH_URL}/api/v1/users/${id}`, {\n        status\n      });\n      if (response.status === 200 && response.statusText === \"OK\") {\n        dispatch(activeMember(id));\n      }\n    }\n  } catch (error) {\n    return \"Server request is failed\";\n  }\n});\nexport const uploadImage = createAsyncThunk(\"upload/Image\", async (file, _ref5) => {\n  let {\n    dispatch\n  } = _ref5;\n  const formData = new FormData();\n  formData.append('image', file);\n  try {\n    const response = await axios.post(`${PATH_URL}/api/v1/users/upload`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    dispatch(setImage(response.data));\n  } catch (error) {\n    return \"Server request is failed\";\n  }\n});","map":{"version":3,"names":["createAsyncThunk","addMember","deleteMember","editeMember","activeMember","setImage","store","axios","PATH_URL","process","env","REACT_APP_BASE_URL1","addProduct","item","dispatch","member","fullname","position","picture","response","post","status","data","error","deleteProduct","id","delete","headers","statusText","Error","editeAProduct","rejectWithValue","put","console","log","message","activeProduct","getState","state","membersFullInfo","find","child","patch","uploadImage","file","formData","FormData","append"],"sources":["C:/Users/ASUS/Desktop/government/governmentProject/FinalProject/src/store/actions/governmentAddRemoveMembers.tsx"],"sourcesContent":["/* eslint-disable */\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { addMember, deleteMember, editeMember, activeMember, setImage } from \"../slices/GovernmetMembersFullInfo\";\r\nimport { store } from \"../index\";\r\nimport axios from \"axios\";\r\nconst PATH_URL = process.env.REACT_APP_BASE_URL1;\r\n\r\ninterface IDelete {\r\n    id: number | null | undefined\r\n}\r\n\r\ntype MyEdite = Record<string | number, string | string>;\r\nexport const addProduct = createAsyncThunk(\r\n    \"add\",\r\n    async (item: any, { dispatch }) => {\r\n        \r\n        const member = {\r\n            fullname: item.fullname,\r\n            position: item.position,\r\n            picture: item.picture\r\n        }\r\n        try {\r\n            const response = await axios.post(`${PATH_URL}/api/v1/users`, member);\r\n            if (response.status === 201) {\r\n                dispatch(addMember(response.data));\r\n            }\r\n        }\r\n        catch (error: any) {\r\n            return \"Servere request is failed\";\r\n        }\r\n    }\r\n);\r\n\r\n\r\n\r\n\r\nexport const deleteProduct = createAsyncThunk(\r\n    \"delete/Product\",\r\n\r\n    async (id: IDelete, { dispatch }) => {\r\n\r\n\r\n        try {\r\n            const response = await axios.delete(`${PATH_URL}/api/v1/users/delete/${id}`, {\r\n                headers: {\r\n                    \"content-type\": \"application/json\",\r\n                },\r\n            });\r\n\r\n            if (response.status === 200 && response.statusText === \"OK\") {\r\n                dispatch(deleteMember(id))\r\n            }\r\n            else {\r\n                throw new Error(\"error\");\r\n\r\n            }\r\n        }\r\n        catch (error) {\r\n            return \"Server request is failed\";\r\n        }\r\n\r\n    }\r\n);\r\n\r\n\r\nexport const editeAProduct = createAsyncThunk(\r\n    \"edite/Product\",\r\n    async (item: MyEdite, { rejectWithValue, dispatch }) => {\r\n        const member = {\r\n            picture: item.picture,\r\n            fullname: item.fullname,\r\n            position: item.position,\r\n        }\r\n        \r\n\r\n        try {\r\n            const response = await axios.put(`${PATH_URL}/api/v1/users/${item.id}`, member);\r\n            console.log(response);\r\n            if (response.status === 200 && response.statusText === \"OK\") {\r\n                dispatch(editeMember(response.data));\r\n            }\r\n        }\r\n        catch (error: any) {\r\n\r\n            rejectWithValue(error.message)\r\n        }\r\n    }\r\n);\r\n\r\n\r\n\r\nexport const activeProduct = createAsyncThunk(\r\n    \"active/product\",\r\n    async (id: number, { dispatch, getState }) => {\r\n\r\n        const state = store.getState();\r\n        const item = state.membersFullInfo.membersFullInfo.find((child: any) => {\r\n            return id == child.id;\r\n        })\r\n\r\n        try {\r\n            if (item) {\r\n                let status = item.status === \"active\" ? \"passive\" : \"active\";\r\n                const response = await axios.patch(`${PATH_URL}/api/v1/users/${id}`,\r\n                    {\r\n                        status\r\n                    }\r\n                )\r\n                if (response.status === 200 && response.statusText === \"OK\") {\r\n                    dispatch(activeMember(id));\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            return \"Server request is failed\";\r\n        }\r\n    }\r\n)\r\n\r\nexport const uploadImage = createAsyncThunk(\r\n    \"upload/Image\",\r\n    async (file: any, { dispatch }) => {\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n        try {\r\n            const response = await axios.post(`${PATH_URL}/api/v1/users/upload`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n            dispatch(setImage(response.data));\r\n        } catch (error: any) {\r\n            return \"Server request is failed\";\r\n        }\r\n\r\n    }\r\n)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}