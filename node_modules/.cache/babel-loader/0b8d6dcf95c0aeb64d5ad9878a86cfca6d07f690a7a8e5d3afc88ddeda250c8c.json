{"ast":null,"code":"/* eslint-disable */\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { addMember, deleteMember, editeMember, activeMember, setImage } from \"../slices/GovernmetMembersFullInfo\";\nimport { store } from \"../index\";\nimport axios from \"axios\";\nconst PATH_URL = process.env.REACT_APP_BASE_URL1;\nexport const addProduct = createAsyncThunk(\"add\", async (item, _ref) => {\n  let {\n    dispatch\n  } = _ref;\n  const member = {\n    fullname: item.fullname,\n    position: item.position,\n    picture: item.picture\n  };\n  try {\n    const response = await axios.post(`${PATH_URL}/api/v1/users`, member);\n    if (response.status === 201) {\n      dispatch(addMember(response.data));\n    }\n  } catch (error) {\n    return \"Servere request is failed\";\n  }\n});\nexport const deleteProduct = createAsyncThunk(\"delete/Product\", async (id, _ref2) => {\n  let {\n    dispatch\n  } = _ref2;\n  try {\n    const response = await axios.delete(`${PATH_URL}/api/v1/users/delete/${id}`, {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    });\n    if (response.status === 200 && response.statusText === \"OK\") {\n      dispatch(deleteMember(id));\n    } else {\n      throw new Error(\"error\");\n    }\n  } catch (error) {\n    return \"Server request is failed\";\n  }\n});\nexport const editeAProduct = createAsyncThunk(\"edite/Product\", async (item, _ref3) => {\n  let {\n    rejectWithValue,\n    dispatch\n  } = _ref3;\n  const member = {\n    picture: item.picture,\n    fullname: item.fullname,\n    position: item.position\n  };\n  try {\n    const response = await axios.put(`${PATH_URL}/api/v1/users/${item.id}`, member);\n    if (response.status === 200 && response.statusText === \"OK\") {\n      dispatch(editeMember(response.data));\n    }\n  } catch (error) {\n    rejectWithValue(error.message);\n  }\n});\nexport const activeProduct = createAsyncThunk(\"active/product\", async (id, _ref4) => {\n  let {\n    dispatch,\n    getState\n  } = _ref4;\n  const state = store.getState();\n  const item = state.membersFullInfo.membersFullInfo.find(child => {\n    return id == child.id;\n  });\n  try {\n    if (item) {\n      let status = item.status === \"active\" ? \"passive\" : \"active\";\n      const response = await axios.patch(`${PATH_URL}/api/v1/users/${id}`, {\n        status\n      });\n      if (response.status === 200 && response.statusText === \"OK\") {\n        dispatch(activeMember(id));\n      }\n    }\n  } catch (error) {\n    return \"Server request is failed\";\n  }\n});\nexport const uploadImage = createAsyncThunk(\"upload/Image\", async (file, _ref5) => {\n  let {\n    dispatch\n  } = _ref5;\n  const formData = new FormData();\n  formData.append('image', file);\n  try {\n    const response = await axios.post(`${PATH_URL}/api/v1/users/upload`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    dispatch(setImage(response.data));\n  } catch (error) {\n    return \"Server request is failed\";\n  }\n});","map":{"version":3,"names":["createAsyncThunk","addMember","deleteMember","editeMember","activeMember","setImage","store","axios","PATH_URL","process","env","REACT_APP_BASE_URL1","addProduct","item","dispatch","member","fullname","position","picture","response","post","status","data","error","deleteProduct","id","delete","headers","statusText","Error","editeAProduct","rejectWithValue","put","message","activeProduct","getState","state","membersFullInfo","find","child","patch","uploadImage","file","formData","FormData","append"],"sources":["/home/sergey/Desktop/project/FinalProject/src/store/actions/governmentAddRemoveMembers.tsx"],"sourcesContent":["/* eslint-disable */\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { addMember, deleteMember, editeMember, activeMember, setImage } from \"../slices/GovernmetMembersFullInfo\";\nimport { store } from \"../index\";\nimport axios from \"axios\";\nconst PATH_URL = process.env.REACT_APP_BASE_URL1;\n\n\ninterface IDelete {\n    id: number | null | undefined\n}\n\ntype MyEdite = Record<string | number, string | string>;\nexport const addProduct = createAsyncThunk(\n    \"add\",\n    async (item: any, { dispatch }) => {\n        \n        const member = {\n            fullname: item.fullname,\n            position: item.position,\n            picture: item.picture\n        }\n        try {\n            const response = await axios.post(`${PATH_URL}/api/v1/users`, member);\n            if (response.status === 201) {\n                dispatch(addMember(response.data));\n            }\n        }\n        catch (error: any) {\n            return \"Servere request is failed\";\n        }\n    }\n);\n\n\n\n\nexport const deleteProduct = createAsyncThunk(\n    \"delete/Product\",\n\n    async (id: IDelete, { dispatch }) => {\n\n\n        try {\n            const response = await axios.delete(`${PATH_URL}/api/v1/users/delete/${id}`, {\n                headers: {\n                    \"content-type\": \"application/json\",\n                },\n            });\n\n            if (response.status === 200 && response.statusText === \"OK\") {\n                dispatch(deleteMember(id))\n            }\n            else {\n                throw new Error(\"error\");\n\n            }\n        }\n        catch (error) {\n            return \"Server request is failed\";\n        }\n\n    }\n);\n\n\nexport const editeAProduct = createAsyncThunk(\n    \"edite/Product\",\n    async (item: MyEdite, { rejectWithValue, dispatch }) => {\n\n        const member = {\n            picture: item.picture,\n            fullname: item.fullname,\n            position: item.position,\n        }\n      \n\n        try {\n            const response = await axios.put(`${PATH_URL}/api/v1/users/${item.id}`, member);\n           \n            if (response.status === 200 && response.statusText === \"OK\") {\n                \n                dispatch(editeMember(response.data));\n            }\n        }\n        catch (error: any) {\n\n            rejectWithValue(error.message)\n        }\n    }\n);\n\n\n\nexport const activeProduct = createAsyncThunk(\n    \"active/product\",\n    async (id: number, { dispatch, getState }) => {\n\n        const state = store.getState();\n        const item = state.membersFullInfo.membersFullInfo.find((child: any) => {\n            return id == child.id;\n        })\n\n        try {\n            if (item) {\n                let status = item.status === \"active\" ? \"passive\" : \"active\";\n                const response = await axios.patch(`${PATH_URL}/api/v1/users/${id}`,\n                    {\n                        status\n                    }\n                )\n                if (response.status === 200 && response.statusText === \"OK\") {\n                    dispatch(activeMember(id));\n                }\n            }\n        }\n        catch (error) {\n            return \"Server request is failed\";\n        }\n    }\n)\n\nexport const uploadImage = createAsyncThunk(\n    \"upload/Image\",\n    async (file: any, { dispatch }) => {\n        const formData = new FormData();\n        formData.append('image', file);\n        try {\n            const response = await axios.post(`${PATH_URL}/api/v1/users/upload`, formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data'\n                }\n            });\n            dispatch(setImage(response.data));\n        } catch (error: any) {\n            return \"Server request is failed\";\n        }\n\n    }\n)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}